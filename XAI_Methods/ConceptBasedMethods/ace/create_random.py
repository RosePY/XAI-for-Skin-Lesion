import tensorflow as tf
import os
import numpy as np

images_path = '../isic-data/ISIC2018_Task1-2_Training_Input/'

def create_random_folders():
    number_folders = 50

    all_images = [d for d in tf.io.gfile.listdir(images_path) ]
    print(all_images[0])


    #sorted_files = [d for d in tf.io.gfile.listdir(concept_dir) ]

    #tf.io.gfile.copy( src, dst, overwrite=False )
    for i in range(number_folders+1):
        tf.io.gfile.mkdir('SOURCE_DIR/random_500_'+str(i)+'/')
        #np.random.seed(6)
        sample = np.random.choice(all_images, size=50, replace=False)
        for j in sample:
            tf.io.gfile.copy( images_path +j , 'SOURCE_DIR/random_500_'+str(i)+'/'+j )


def create_concept_folder(name):
    tf.io.gfile.mkdir('SOURCE_DIR/'+name+'/')
    melanoma = ['ISIC_0000031', 'ISIC_0000035', 'ISIC_0000049', 'ISIC_0000139', 'ISIC_0000140', 'ISIC_0000142', 'ISIC_0000147', 'ISIC_0000150', 'ISIC_0000151', 'ISIC_0000153', 'ISIC_0000155', 'ISIC_0000157', 'ISIC_0000159', 'ISIC_0000160', 'ISIC_0000161', 'ISIC_0000162', 'ISIC_0000167', 'ISIC_0000169', 'ISIC_0000173', 'ISIC_0000279', 'ISIC_0000281', 'ISIC_0000283', 'ISIC_0000293', 'ISIC_0000295', 'ISIC_0000298', 'ISIC_0000307', 'ISIC_0000314', 'ISIC_0000390', 'ISIC_0000393', 'ISIC_0000413', 'ISIC_0000547', 'ISIC_0000548', 'ISIC_0000552', 'ISIC_0000554', 'ISIC_0001100', 'ISIC_0001102', 'ISIC_0001118', 'ISIC_0001142', 'ISIC_0010023', 'ISIC_0010029', 'ISIC_0010175', 'ISIC_0010231', 'ISIC_0010235', 'ISIC_0010267', 'ISIC_0011099', 'ISIC_0011112', 'ISIC_0011121', 'ISIC_0011135', 'ISIC_0011158', 'ISIC_0011348', 'ISIC_0012290', 'ISIC_0012749', 'ISIC_0013427', 'ISIC_0013473', 'ISIC_0013594', 'ISIC_0014173', 'ISIC_0014558', 'ISIC_0014666', 'ISIC_0014784', 'ISIC_0014826', 'ISIC_0014857', 'ISIC_0014891', 'ISIC_0014922', 'ISIC_0014932', 'ISIC_0014946', 'ISIC_0014963', 'ISIC_0014982', 'ISIC_0014983', 'ISIC_0015041', 'ISIC_0015071', 'ISIC_0015110', 'ISIC_0015132', 'ISIC_0015136', 'ISIC_0015166', 'ISIC_0015190', 'ISIC_0015229', 'ISIC_0015243', 'ISIC_0015284']
    #np.random.seed(6)
    sample = np.random.choice(melanoma, size=50, replace=False)
    for j in sample:
        tf.io.gfile.copy( images_path +j+'.jpg' , 'SOURCE_DIR/'+name+'/'+j+'.jpg' )

#create_concept_folder('melanoma')
# #    melanoma = ['ISIC_0000029', 'ISIC_0000031', 'ISIC_0000035', 'ISIC_0000036',
#        'ISIC_0000049', 'ISIC_0000139', 'ISIC_0000140', 'ISIC_0000142',
#        'ISIC_0000147', 'ISIC_0000148', 'ISIC_0000150', 'ISIC_0000151',
#        'ISIC_0000152', 'ISIC_0000153', 'ISIC_0000154', 'ISIC_0000155',
#        'ISIC_0000157', 'ISIC_0000159', 'ISIC_0000160', 'ISIC_0000161',
#        'ISIC_0000162', 'ISIC_0000163', 'ISIC_0000164', 'ISIC_0000166',
#        'ISIC_0000167', 'ISIC_0000169', 'ISIC_0000171', 'ISIC_0000173',
#        'ISIC_0000278', 'ISIC_0000279', 'ISIC_0000281', 'ISIC_0000283',
#        'ISIC_0000293', 'ISIC_0000294', 'ISIC_0000295', 'ISIC_0000298',
#        'ISIC_0000301', 'ISIC_0000307', 'ISIC_0000311', 'ISIC_0000314',
#        'ISIC_0000390', 'ISIC_0000393', 'ISIC_0000412', 'ISIC_0000413',
#        'ISIC_0000469', 'ISIC_0000518', 'ISIC_0000520', 'ISIC_0000531',
#        'ISIC_0000547', 'ISIC_0000548', 'ISIC_0000549', 'ISIC_0000552',
#        'ISIC_0000554', 'ISIC_0001100', 'ISIC_0001102', 'ISIC_0001103',
#        'ISIC_0001106', 'ISIC_0001118', 'ISIC_0001131', 'ISIC_0001142',
#        'ISIC_0001148', 'ISIC_0001152', 'ISIC_0009868', 'ISIC_0009918',
#        'ISIC_0010023', 'ISIC_0010029', 'ISIC_0010034', 'ISIC_0010067',
#        'ISIC_0010171', 'ISIC_0010175', 'ISIC_0010231', 'ISIC_0010235',
#        'ISIC_0010267', 'ISIC_0010349', 'ISIC_0010372', 'ISIC_0010596',
#        'ISIC_0010597', 'ISIC_0011099', 'ISIC_0011112', 'ISIC_0011121',
#        'ISIC_0011128', 'ISIC_0011135', 'ISIC_0011158', 'ISIC_0011166',
#        'ISIC_0011348', 'ISIC_0011374', 'ISIC_0012290', 'ISIC_0012678',
#        'ISIC_0012749', 'ISIC_0013427', 'ISIC_0013457', 'ISIC_0013473',
#        'ISIC_0013525', 'ISIC_0013573', 'ISIC_0013594', 'ISIC_0013651',
#        'ISIC_0013762', 'ISIC_0014173', 'ISIC_0014217', 'ISIC_0014284',
#        'ISIC_0014361', 'ISIC_0014372', 'ISIC_0014489', 'ISIC_0014558',
#        'ISIC_0014666', 'ISIC_0014784', 'ISIC_0014826', 'ISIC_0014857',
#        'ISIC_0014891', 'ISIC_0014897', 'ISIC_0014912', 'ISIC_0014920',
#        'ISIC_0014922', 'ISIC_0014931', 'ISIC_0014932', 'ISIC_0014946',
#        'ISIC_0014963', 'ISIC_0014982', 'ISIC_0014983', 'ISIC_0015041',
#        'ISIC_0015071', 'ISIC_0015110', 'ISIC_0015127', 'ISIC_0015132',
#        'ISIC_0015136', 'ISIC_0015166', 'ISIC_0015167', 'ISIC_0015180',
#        'ISIC_0015185', 'ISIC_0015190', 'ISIC_0015219', 'ISIC_0015229',
#        'ISIC_0015243', 'ISIC_0015256', 'ISIC_0015284']